---
sidebar_position: 4
---

# Installation de FiveM sur Linux/Ubuntu

Ce guide vous explique comment installer un serveur FiveM sur un syst√®me Linux/Ubuntu, √©tape par √©tape.

## Cr√©ation de l'utilisateur FiveM

:::note
Pour des raisons de s√©curit√©, il est recommand√© de cr√©er un utilisateur d√©di√© pour votre serveur FiveM plut√¥t que d'utiliser l'utilisateur root.
:::

## Connectez-vous en SSH √† votre serveur

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs groupId="commands">
  <TabItem value="create-user" label="Cr√©er l'utilisateur" default>
    :::info
    Le syst√®me vous demandera de d√©finir un mot de passe pour l'utilisateur `fivem`. 
    Choisissez un mot de passe s√©curis√© et notez-le bien !
    :::
    
    ```bash title="Terminal"
    sudo adduser fivem
    ```
  </TabItem>
  <TabItem value="add-sudo" label="Ajouter aux sudoers">
    ```bash title="Terminal"
    sudo usermod -aG sudo fivem
    ```
  </TabItem>
  <TabItem value="login" label="Se connecter">
    ```bash title="Terminal"
    su - fivem
    ```
  </TabItem>
</Tabs>

:::tip D√©monstration
<div style={{ maxWidth: '800px', margin: '0 auto' }}>
  <video 
    width="100%" 
    controls 
    autoplay 
    muted 
    loop
    defaultMuted
    playsInline
    preload="auto"
    style={{
      borderRadius: '8px',
      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',
      backgroundColor: '#000',
      marginBottom: '1rem'
    }}
  >
    <source src="/video/tutorial-fivem/create-fivem-user.mp4" type="video/mp4" />
    <track kind="captions" />
    Votre navigateur ne prend pas en charge les vid√©os HTML5.
  </video>
</div>
:::

ou reconnectez-vous en SSH avec ce nouvel utilisateur

## Installation des d√©pendances

Cr√©ez un script d'installation pour les d√©pendances n√©cessaires √† FiveM.

### √âtape 1: Cr√©er le script d'installation

```bash title="Terminal"
nano install_dependencies.sh
```

### √âtape 2: Copier le code suivant dans le fichier

<details>
<summary><strong>üìÑ install_dependencies.sh</strong></summary>

```bash showLineNumbers
#!/bin/bash
set -e

# Couleurs pour les messages
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m'

# Fonctions pour les messages
log_info() { echo -e "${BLUE}[INFO]${NC} $1"; }
log_success() { echo -e "${GREEN}[OK]${NC} $1"; }
log_warning() { echo -e "${YELLOW}[WARNING]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }

echo "INSTALLATION D√âPENDANCES FIVEM"
echo "=============================="

echo "Installation des pr√©requis..."

# Mise √† jour du syst√®me
log_info "Mise √† jour des sources APT"
if ! sudo apt update; then
    log_error "√âchec mise √† jour sources"
    exit 1
fi
log_success "Sources mises √† jour"

log_info "Mise √† jour syst√®me (peut prendre du temps...)"
if ! sudo apt upgrade -y; then
    log_warning "Probl√®me mise √† jour syst√®me (continuons)"
else
    log_success "Syst√®me mis √† jour"
fi

echo ""

# Installation d√©pendances
log_info "Installation d√©pendances"
dependencies=("wget" "xz-utils" "git" "nano" "curl" "unzip" "screen" "jq" "rsync")
for dep in "${dependencies[@]}"; do
    if ! command -v "$dep" &> /dev/null; then
        log_info "Installation $dep"
        if ! sudo apt install -y "$dep"; then
            log_error "√âchec installation $dep"
            exit 1
        fi
    else
        log_success "$dep install√©"
    fi
done
echo ""

log_success "D√©pendances install√©es !"
```
</details>

:::note
Apr√®s avoir coll√© le code, appuyez sur <kbd>Ctrl</kbd> + <kbd>X</kbd>, puis sur <kbd>Y</kbd> et <kbd>Entr√©e</kbd> pour enregistrer le fichier et quitter l'√©diteur nano.
:::

### √âtape 3: Rendre le script ex√©cutable et l'ex√©cuter

<Tabs>
  <TabItem value="chmod" label="Rendre ex√©cutable" default>
    ```bash title="Terminal"
    chmod +x install_dependencies.sh
    ```
  </TabItem>
  <TabItem value="run" label="Ex√©cuter le script">
    ```bash title="Terminal"
    ./install_dependencies.sh
    ```
    
    <div className="terminal-output">
    <pre style={{
      backgroundColor: '#282c34',
      color: '#f8f8f2',
      padding: '1rem',
      borderRadius: '0.5rem',
      overflow: 'auto'
    }}>
    <span style={{color: '#61afef'}}>INSTALLATION D√âPENDANCES FIVEM</span>
    ==============================
    Installation des pr√©requis...
    <span style={{color: '#61afef'}}>[INFO]</span> Mise √† jour des sources APT
    <span style={{color: '#98c379'}}>[OK]</span> Sources mises √† jour
    <span style={{color: '#61afef'}}>[INFO]</span> Mise √† jour syst√®me (peut prendre du temps...)
    <span style={{color: '#98c379'}}>[OK]</span> Syst√®me mis √† jour
    
    <span style={{color: '#61afef'}}>[INFO]</span> Installation d√©pendances
    <span style={{color: '#98c379'}}>[OK]</span> wget install√©
    <span style={{color: '#98c379'}}>[OK]</span> xz-utils install√©
    <span style={{color: '#98c379'}}>[OK]</span> git install√©
    <span style={{color: '#98c379'}}>[OK]</span> nano install√©
    <span style={{color: '#98c379'}}>[OK]</span> curl install√©
    <span style={{color: '#98c379'}}>[OK]</span> unzip install√©
    <span style={{color: '#98c379'}}>[OK]</span> screen install√©
    <span style={{color: '#98c379'}}>[OK]</span> jq install√©
    <span style={{color: '#98c379'}}>[OK]</span> rsync install√©
    
    <span style={{color: '#98c379'}}>[OK]</span> D√©pendances install√©es !
    </pre>
    </div>
  </TabItem>
</Tabs>

:::tip D√©monstration - installation des d√©pendances
<div style={{ maxWidth: '800px', margin: '0 auto' }}>
  <video 
    width="100%" 
    controls 
    autoplay 
    muted 
    loop
    defaultMuted
    playsInline
    preload="auto"
    style={{
      borderRadius: '8px',
      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',
      backgroundColor: '#000',
      marginBottom: '1rem'
    }}
  >
    <source src="/video/tutorial-fivem/install-dependencies.mp4" type="video/mp4" />
    <track kind="captions" />
    Votre navigateur ne prend pas en charge les vid√©os HTML5.
  </video>
</div>
:::

:::tip
Ce script installe toutes les d√©pendances n√©cessaires pour faire fonctionner un serveur FiveM sur Linux, y compris les outils de base comme wget, git, curl, et screen qui sont essentiels pour la gestion du serveur.
:::

:::note
Si vous rencontrez des erreurs de permission lors de l'ex√©cution du script, assurez-vous que votre utilisateur a les droits sudo ou ex√©cutez la commande avec `sudo` devant.
:::

## Que fait ce script?

<div className="grid-container" style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
  gap: '1rem',
  marginBottom: '2rem'
}}>
  <div className="grid-item" style={{
    border: '1px solid var(--ifm-color-emphasis-300)',
    borderRadius: 'var(--ifm-global-radius)',
    padding: '1rem',
    backgroundColor: 'var(--ifm-color-emphasis-100)'
  }}>
    <h3>1. Mise √† jour du syst√®me</h3>
    <p>Met √† jour les sources APT et les paquets du syst√®me</p>
  </div>
  <div className="grid-item" style={{
    border: '1px solid var(--ifm-color-emphasis-300)',
    borderRadius: 'var(--ifm-global-radius)',
    padding: '1rem',
    backgroundColor: 'var(--ifm-color-emphasis-100)'
  }}>
    <h3>2. Installation des d√©pendances</h3>
    <p>Installe tous les paquets n√©cessaires au fonctionnement de FiveM</p>
  </div>
</div>

### Liste des d√©pendances install√©es

| Outil | Description |
|-------|-------------|
| wget | Pour t√©l√©charger des fichiers |
| xz-utils | Pour la d√©compression des archives |
| git | Pour la gestion des versions |
| nano | √âditeur de texte simple |
| curl | Outil de transfert de donn√©es |
| unzip | Pour d√©compresser des archives |
| screen | Pour ex√©cuter des processus en arri√®re-plan |
| jq | Pour manipuler des donn√©es JSON |
| rsync | Pour la synchronisation de fichiers |

## Installation du serveur FiveM

Maintenant que toutes les d√©pendances sont install√©es, nous allons t√©l√©charger et configurer le serveur FiveM lui-m√™me.

### √âtape 1: Cr√©er le script d'installation du serveur

Cr√©ez un script qui va automatiquement t√©l√©charger et installer la derni√®re version du serveur FiveM.

```bash title="Terminal"
nano install_fivem_server.sh
```

### √âtape 2: Copier le code suivant dans le fichier

<details>
<summary><strong>üìÑ install_fivem_server.sh</strong></summary>

```bash showLineNumbers
#!/bin/bash
set -e

# Couleurs pour les messages
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
NC='\033[0m'

# Fonctions pour les messages
log_info() { echo -e "${BLUE}[INFO]${NC} $1"; }
log_success() { echo -e "${GREEN}[SUCCESS]${NC} $1"; }
log_warning() { echo -e "${YELLOW}[WARNING]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }
log_step() { echo -e "${PURPLE}[√âTAPE]${NC} $1"; }
log_check() { echo -e "${CYAN}[CHECK]${NC} $1"; }

# V√©rification de base
if [[ $EUID -eq 0 ]]; then
  log_error "‚ùå Ne pas ex√©cuter en tant que root!"
  exit 1
fi

log_step "üèóÔ∏è  INSTALLATION DU SERVEUR FIVEM"
echo "===================================="

# Cr√©ation des dossiers principaux
log_info "Cr√©ation de l'arborescence..."
mkdir -p ~/FXServer/server
mkdir -p ~/FXServer/server-data
log_success "‚úÖ Dossiers cr√©√©s (txData sera g√©n√©r√© par txAdmin)"

# T√©l√©chargement FiveM
log_info "T√©l√©chargement de FiveM (derni√®re version)..."
cd ~/FXServer/server

# API pour r√©cup√©rer la derni√®re version
API_URL="https://changelogs-live.fivem.net/api/changelog/versions/linux/server"
latestDownloadUrl=$(curl -s "$API_URL" | jq -r '.latest_download')

if [[ -z "$latestDownloadUrl" || "$latestDownloadUrl" == "null" ]]; then
  log_error "‚ùå Impossible de r√©cup√©rer l'URL de t√©l√©chargement"
  exit 1
fi

wget --progress=bar:force "$latestDownloadUrl" -O fx.tar.xz
tar xf fx.tar.xz
rm fx.tar.xz
log_success "‚úÖ FiveM t√©l√©charg√© et extrait"

# T√©l√©chargement des donn√©es de base
log_info "T√©l√©chargement des donn√©es de base..."
if [[ ! -d "$HOME/FXServer/server-data/.git" ]]; then
  git clone https://github.com/citizenfx/cfx-server-data.git /tmp/cfx-server-data
  cp -r /tmp/cfx-server-data/* ~/FXServer/server-data/
  rm -rf /tmp/cfx-server-data
  log_success "‚úÖ Donn√©es de base install√©es"
else
  log_warning "‚ö†Ô∏è  Les donn√©es de base existent d√©j√†"
fi

echo ""
log_success "üéâ INSTALLATION TERMIN√âE - Serveur cr√©√© !"
echo ""
```
</details>

:::note
Apr√®s avoir coll√© le code, appuyez sur <kbd>Ctrl</kbd> + <kbd>X</kbd>, puis sur <kbd>Y</kbd> et <kbd>Entr√©e</kbd> pour enregistrer le fichier et quitter l'√©diteur nano.
:::

### √âtape 3: Rendre le script ex√©cutable et l'ex√©cuter

<Tabs>
  <TabItem value="chmod" label="Rendre ex√©cutable" default>
    ```bash title="Terminal"
    chmod +x install_fivem_server.sh
    ```
  </TabItem>
  <TabItem value="run" label="Ex√©cuter le script">
    ```bash title="Terminal"
    ./install_fivem_server.sh
    ```
    
    <div className="terminal-output">
    <pre style={{
      backgroundColor: '#282c34',
      color: '#f8f8f2',
      padding: '1rem',
      borderRadius: '0.5rem',
      overflow: 'auto'
    }}>
    <span style={{color: '#d371e3'}}>[√âTAPE]</span> üèóÔ∏è  INSTALLATION DU SERVEUR FIVEM
    ====================================
    <span style={{color: '#61afef'}}>[INFO]</span> Cr√©ation de l'arborescence...
    <span style={{color: '#98c379'}}>[SUCCESS]</span> ‚úÖ Dossiers cr√©√©s (txData sera g√©n√©r√© par txAdmin)
    <span style={{color: '#61afef'}}>[INFO]</span> T√©l√©chargement de FiveM (derni√®re version)...
    <span style={{color: '#61afef'}}>--2023-07-06 15:42:31--  https://runtime.fivem.net/artifacts/fivem/build_proot_linux/master/6683-9a1b2c5ad7ad5a79c8f1dde4f9f63c0cf72d1133/fx.tar.xz</span>
    <span style={{color: '#98c379'}}>[SUCCESS]</span> ‚úÖ FiveM t√©l√©charg√© et extrait
    <span style={{color: '#61afef'}}>[INFO]</span> T√©l√©chargement des donn√©es de base...
    <span style={{color: '#98c379'}}>[SUCCESS]</span> ‚úÖ Donn√©es de base install√©es
    
    <span style={{color: '#98c379'}}>[SUCCESS]</span> üéâ INSTALLATION TERMIN√âE - Serveur cr√©√© !
    </pre>
    </div>
  </TabItem>
</Tabs>

### √âtape 4: Configuration du serveur

Maintenant que le serveur est install√©, nous devons cr√©er un fichier de configuration pour le serveur FiveM.

```bash title="Terminal"
nano ~/FXServer/server-data/server.cfg
```

Copiez le contenu suivant dans le fichier :

<details>
<summary><strong>üìÑ server.cfg</strong></summary>

```cfg showLineNumbers
# =============================================================================
# CONFIGURATION FIVEM SERVER
# =============================================================================

# Endpoints r√©seau
endpoint_add_tcp "0.0.0.0:30120"
endpoint_add_udp "0.0.0.0:30120"

# Resources essentiels
ensure mapmanager
ensure chat
ensure spawnmanager
ensure sessionmanager
ensure basic-gamemode
ensure hardcap
ensure rconlog

# Configuration serveur
sv_scriptHookAllowed 0
sv_hostname "Mon Serveur FiveM"
sets locale "fr-FR"
sets tags "roleplay, fran√ßais, txAdmin"

# OneSync (recommand√©)
set onesync on

# Performance et s√©curit√©
sv_endpointprivacy true
sv_maxClients 32
sv_enforceGameBuild 2944

# Cl√© de licence
# Obtenez votre cl√© sur https://keymaster.fivem.net
sv_licenseKey "changez_moi_avec_votre_cl√©"
```
</details>

:::warning Important
Vous devez obtenir une cl√© de licence sur [https://keymaster.fivem.net](https://keymaster.fivem.net) et remplacer `changez_moi_avec_votre_cl√©` par votre propre cl√©.
:::

## Configuration de txAdmin

txAdmin est l'interface d'administration officielle pour les serveurs FiveM. Voici comment configurer l'environnement txAdmin pour votre serveur.

### √âtape 1: Cr√©er le fichier d'environnement txAdmin

```bash title="Terminal"
nano ~/FXServer/txadmin.env
```

Copiez le contenu suivant dans le fichier :

<details>
<summary><strong>üìÑ txadmin.env</strong></summary>

```bash showLineNumbers
# =============================================================================
# CONFIGURATION txAdmin v8.0.0+ - Variables d'environnement TXHOST_*
# txData se g√©n√®re automatiquement au premier lancement
# =============================================================================

# Chemins (txData sera cr√©√© automatiquement)
export TXHOST_DATA_PATH=/home/fivem/FXServer/txData
export TXHOST_GAME_NAME=fivem

# R√©seau
export TXHOST_TXA_PORT=40120
export TXHOST_FXS_PORT=30120
export TXHOST_INTERFACE=0.0.0.0

# Performance
export TXHOST_QUIET_MODE=false
export TXHOST_MAX_SLOTS=32

# Personnalisation
export TXHOST_PROVIDER_NAME="Mon Serveur FiveM"

# Configuration moderne
export TXHOST_IGNORE_DEPRECATED_CONFIGS=true
```
</details>

### √âtape 2: D√©marrer le serveur avec txAdmin

Pour d√©marrer votre serveur FiveM avec txAdmin, ex√©cutez les commandes suivantes :

```bash title="Terminal"
cd ~/FXServer/server
./run.sh
```

Une fois le serveur d√©marr√©, vous verrez un message dans la console avec l'URL pour acc√©der √† txAdmin, g√©n√©ralement `http://votre_ip:40120`.

:::tip
Lors du premier d√©marrage, vous devrez cr√©er un compte administrateur et configurer votre serveur via l'assistant de configuration txAdmin.
:::

## Gestion du serveur

### D√©marrer le serveur en arri√®re-plan avec Screen

Pour que votre serveur continue de fonctionner m√™me apr√®s avoir ferm√© votre connexion SSH, utilisez l'utilitaire Screen :

```bash title="Terminal"
screen -S fivem
cd ~/FXServer/server
./run.sh
```

Pour d√©tacher la session Screen (laisser le serveur tourner en arri√®re-plan), appuyez sur <kbd>Ctrl</kbd> + <kbd>A</kbd>, puis <kbd>D</kbd>.

Pour vous reconnecter √† la session :

```bash title="Terminal"
screen -r fivem
```

### Arr√™ter le serveur

Pour arr√™ter proprement votre serveur FiveM, utilisez la commande `quit` dans la console du serveur ou fermez-le via l'interface txAdmin.

## Conclusion

F√©licitations ! Vous avez maintenant un serveur FiveM fonctionnel sur votre syst√®me Linux/Ubuntu. Vous pouvez maintenant acc√©der √† l'interface d'administration txAdmin pour configurer davantage votre serveur, installer des ressources suppl√©mentaires et commencer √† jouer.

:::tip Prochaines √©tapes
- Configuration avanc√©e de txAdmin
- Installation de frameworks populaires (ESX, QBCore, etc.)
- Mise en place d'un syst√®me de mise √† jour automatique
- S√©curisation de votre serveur
:::